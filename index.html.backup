<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <title>DECIPHER SECURE - Advanced Cryptographic Challenge</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ============================================================
         EPIC OPENING ANIMATION - COSC LOGO REVEAL
         ============================================================ -->
    <div class="intro-overlay" id="introOverlay">
        <div class="intro-grid-bg"></div>
        <div class="intro-particles" id="introParticles"></div>
        
        <div class="cosc-animation">
            <div class="cosc-letter cosc-c" data-letter="C">C</div>
            <div class="cosc-letter cosc-o" data-letter="O">O</div>
            <div class="cosc-letter cosc-s" data-letter="S">S</div>
            <div class="cosc-letter cosc-c2" data-letter="C">C</div>
        </div>
        
        <div class="intro-subtitle">CBIT OPEN SOURCE COMMUNITY</div>
        <div class="loading-bar">
            <div class="loading-fill" id="loadingFill"></div>
        </div>
        <div class="loading-text">DECIPHER</div>
    </div>

    <!-- ============================================================
         MAIN APPLICATION - APPEARS AFTER INTRO
         ============================================================ -->
    <div class="main-app hidden" id="mainApp">
        <!-- Particle Canvas Background -->
        <canvas id="particleCanvas" class="particle-canvas"></canvas>
        
        <!-- Animated Background Layers -->
        <div class="bg-layers">
            <div class="bg-grid-layer"></div>
            <div class="bg-scanlines"></div>
            <div class="bg-vignette"></div>
            <div class="bg-noise"></div>
            <div class="bg-blob blob-1"></div>
            <div class="bg-blob blob-2"></div>
            <div class="bg-blob blob-3"></div>
            <div class="scanner-line-horizontal"></div>
            <div class="scanner-line-vertical"></div>
            <div class="floating-code-bg" id="floatingCode"></div>
        </div>

        <!-- Mouse Follower Light Effect -->
        <div class="mouse-light" id="mouseLight"></div>
        <div class="cursor-trail" id="cursorTrail"></div>

        <!-- Main Container -->
        <div class="container">
            <!-- ====================================================
                 TOP HEADER WITH LOGO & STATUS
                 ==================================================== -->
            <header class="main-header">
                <div class="header-logo-container">
                    <div class="holographic-cube-advanced">
                        <div class="cube-face cube-front">
                            <div class="cube-face-pattern"></div>
                        </div>
                        <div class="cube-face cube-back">
                            <div class="cube-face-pattern"></div>
                        </div>
                        <div class="cube-face cube-left">
                            <div class="cube-face-pattern"></div>
                        </div>
                        <div class="cube-face cube-right">
                            <div class="cube-face-pattern"></div>
                        </div>
                        <div class="cube-face cube-top">
                            <div class="cube-face-pattern"></div>
                        </div>
                        <div class="cube-face cube-bottom">
                            <div class="cube-face-pattern"></div>
                        </div>
                    </div>
                    
                    <div class="logo-text-container">
                        <h1 class="logo-primary">
                            <span class="logo-letter">D</span>
                            <span class="logo-letter">E</span>
                            <span class="logo-letter">C</span>
                            <span class="logo-letter">I</span>
                            <span class="logo-letter">P</span>
                            <span class="logo-letter">H</span>
                            <span class="logo-letter">E</span>
                            <span class="logo-letter">R</span>
                        </h1>
                        <div class="logo-secondary">SECURE</div>
                        <div class="logo-tagline">Advanced Cryptographic Operations</div>
                    </div>
                </div>

                <div class="header-status-panel">
                    <div class="status-item">
                        <div class="status-icon">üîê</div>
                        <div class="status-info">
                            <div class="status-label">ENCRYPTION</div>
                            <div class="status-value">VIGEN√àRE</div>
                        </div>
                    </div>
                    <div class="status-divider"></div>
                    <div class="status-item">
                        <div class="status-icon">‚ö°</div>
                        <div class="status-info">
                            <div class="status-label">SECURITY</div>
                            <div class="status-value">LEVEL 5</div>
                        </div>
                    </div>
                    <div class="status-divider"></div>
                    <div class="status-item">
                        <div class="status-icon">üåê</div>
                        <div class="status-info">
                            <div class="status-label">CONNECTION</div>
                            <div class="status-value">SECURE</div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- ====================================================
                 PROGRESS TRACKER
                 ==================================================== -->
            <div class="progress-tracker">
                <div class="progress-node active" data-round="1">
                    <div class="node-circle">
                        <div class="node-inner">1</div>
                        <div class="node-ring"></div>
                        <div class="node-pulse"></div>
                    </div>
                    <div class="node-label">LEGACY ACCESS</div>
                    <div class="node-status">ACTIVE</div>
                </div>
                
                <div class="progress-connector">
                    <div class="connector-line"></div>
                    <div class="connector-flow"></div>
                </div>
                
                <div class="progress-node" data-round="2">
                    <div class="node-circle">
                        <div class="node-inner">2</div>
                        <div class="node-ring"></div>
                        <div class="node-pulse"></div>
                    </div>
                    <div class="node-label">FRAGMENT ASSEMBLY</div>
                    <div class="node-status">LOCKED</div>
                </div>
                
                <div class="progress-connector">
                    <div class="connector-line"></div>
                    <div class="connector-flow"></div>
                </div>
                
                <div class="progress-node" data-round="3">
                    <div class="node-circle">
                        <div class="node-inner">
                            <svg width="16" height="16" viewBox="0 0 16 16" class="flag-icon">
                                <path d="M2 2 L2 14 M2 2 L10 2 L10 8 L2 8" stroke="currentColor" fill="none" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="node-ring"></div>
                        <div class="node-pulse"></div>
                    </div>
                    <div class="node-label">VICTORY</div>
                    <div class="node-status">AWAITING</div>
                </div>
            </div>

            <!-- ====================================================
                 ROUND 1: LEGACY ACCESS PROTOCOL
                 ==================================================== -->
            <div class="challenge-card" id="round1Card">
                <div class="card-glow-effect"></div>
                <div class="card-shine-overlay"></div>
                <div class="card-border-animation"></div>
                
                <div class="card-header">
                    <div class="card-icon-container">
                        <div class="card-icon">
                            <svg width="48" height="48" viewBox="0 0 48 48" class="icon-svg">
                                <rect x="12" y="20" width="24" height="20" rx="2" stroke="currentColor" fill="none" stroke-width="2"/>
                                <path d="M16 20 L16 14 A8 8 0 0 1 32 14 L32 20" stroke="currentColor" fill="none" stroke-width="2"/>
                                <circle cx="24" cy="30" r="3" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="icon-pulse-ring"></div>
                    </div>
                    
                    <div class="card-title-container">
                        <h2 class="card-title">Legacy Access Protocol</h2>
                        <p class="card-subtitle">Deprecated authentication system detected ‚Ä¢ Est. 2023</p>
                    </div>

                    <div class="card-badge-container">
                        <div class="challenge-badge badge-round">
                            <span class="badge-icon">üéØ</span>
                            <span class="badge-text">ROUND 1</span>
                        </div>
                        <div class="challenge-badge badge-difficulty">
                            <span class="badge-icon">‚≠ê</span>
                            <span class="badge-text">BEGINNER</span>
                        </div>
                    </div>
                </div>

                <div class="card-body">
                    <!-- Info Grid -->
                    <div class="info-grid">
                        <div class="info-card">
                            <div class="info-card-header">
                                <span class="info-icon">üîë</span>
                                <span class="info-title">CIPHER ALGORITHM</span>
                            </div>
                            <div class="info-card-value">Vigen√®re (Classical)</div>
                            <div class="info-card-meta">Polyalphabetic substitution</div>
                        </div>

                        <div class="info-card">
                            <div class="info-card-header">
                                <span class="info-icon">üì°</span>
                                <span class="info-title">ENCRYPTED TOKEN</span>
                            </div>
                            <div class="info-card-value token-display">ORAIGJYTCNMY</div>
                            <div class="info-card-meta">12 characters ‚Ä¢ A-Z only</div>
                        </div>

                        <div class="info-card">
                            <div class="info-card-header">
                                <span class="info-icon">‚öôÔ∏è</span>
                                <span class="info-title">KEY LENGTH</span>
                            </div>
                            <div class="info-card-value">3 characters</div>
                            <div class="info-card-meta">Repeating pattern</div>
                        </div>

                        <div class="info-card">
                            <div class="info-card-header">
                                <span class="info-icon">üé≤</span>
                                <span class="info-title">ALPHABET MAPPING</span>
                            </div>
                            <div class="info-card-value">A=0 to Z=25</div>
                            <div class="info-card-meta">Standard encoding</div>
                        </div>
                    </div>

                    <!-- Hint Panel -->
                    <div class="hint-panel">
                        <div class="hint-header">
                            <span class="hint-icon">üí°</span>
                            <span class="hint-title">RECONNAISSANCE HINT</span>
                        </div>
                        <div class="hint-content">
                            <p>The encryption key is hidden within the application's source code. Open your browser's Developer Tools (F12) and inspect the JavaScript file. Look for deprecated legacy functions and commented-out code sections.</p>
                        </div>
                        <div class="hint-steps">
                            <div class="hint-step">
                                <span class="step-number">1</span>
                                <span class="step-text">Press F12 to open DevTools</span>
                            </div>
                            <div class="hint-step">
                                <span class="step-number">2</span>
                                <span class="step-text">Navigate to Sources ‚Üí main.js</span>
                            </div>
                            <div class="hint-step">
                                <span class="step-number">3</span>
                                <span class="step-text">Search for "LEGACY CRYPTO MODULE"</span>
                            </div>
                        </div>
                    </div>

                    <!-- Input Section -->
                    <div class="input-section">
                        <div class="input-wrapper">
                            <label for="round1Input" class="input-label">
                                <span class="label-icon">üîì</span>
                                <span class="label-text">DECRYPTED PASSPHRASE</span>
                                <span class="label-required">*</span>
                            </label>
                            <div class="input-container">
                                <input 
                                    type="text" 
                                    id="round1Input" 
                                    class="cyber-input"
                                    placeholder="Enter the decoded message..."
                                    autocomplete="off"
                                    spellcheck="false"
                                    maxlength="50"
                                />
                                <div class="input-border-glow"></div>
                                <div class="input-focus-line"></div>
                            </div>
                            <div class="input-hint">Uppercase letters only ‚Ä¢ Must match exact decryption</div>
                        </div>

                        <button class="submit-button" id="round1Submit">
                            <span class="button-bg"></span>
                            <span class="button-glow"></span>
                            <span class="button-text">
                                <span class="button-icon">‚ö°</span>
                                <span>VERIFY IDENTITY</span>
                            </span>
                            <div class="button-particles"></div>
                        </button>
                    </div>

                    <!-- Status Footer -->
                    <div class="card-footer">
                        <div class="footer-stats">
                            <div class="stat-item">
                                <span class="stat-label">ATTEMPTS:</span>
                                <span class="stat-value" id="attempts1">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">STATUS:</span>
                                <span class="stat-value status-awaiting" id="status1">AWAITING INPUT</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">TIME:</span>
                                <span class="stat-value" id="timer1">00:00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- üîê ROUND 1 KEY HINT: First letter ASCII 75 (K), Second ASCII 69 (E), Third ASCII 89 (Y) -->
            <!-- üîê LEGACY KEY = 'KEY' - DO NOT REMOVE - Required for backward compatibility -->

            <!-- ====================================================
                 ROUND 2: FRAGMENT ASSEMBLY CHALLENGE
                 ==================================================== -->
            <div class="challenge-card hidden" id="round2Card">
                <div class="card-glow-effect"></div>
                <div class="card-shine-overlay"></div>
                <div class="card-border-animation"></div>
                
                <div class="card-header">
                    <div class="card-icon-container">
                        <div class="card-icon">
                            <svg width="48" height="48" viewBox="0 0 48 48" class="icon-svg">
                                <path d="M12 12 L24 6 L36 12 L36 28 L24 34 L12 28 Z" stroke="currentColor" fill="none" stroke-width="2"/>
                                <path d="M24 6 L24 34 M12 12 L36 28 M36 12 L12 28" stroke="currentColor" opacity="0.5" stroke-width="1"/>
                            </svg>
                        </div>
                        <div class="icon-pulse-ring"></div>
                    </div>
                    
                    <div class="card-title-container">
                        <h2 class="card-title">Fragment Assembly Protocol</h2>
                        <p class="card-subtitle">‚ö†Ô∏è Enhanced Security ‚Ä¢ Token Fragmentation Active</p>
                    </div>

                    <div class="card-badge-container">
                        <div class="challenge-badge badge-round badge-round2">
                            <span class="badge-icon">üéØ</span>
                            <span class="badge-text">ROUND 2</span>
                        </div>
                        <div class="challenge-badge badge-difficulty badge-intermediate">
                            <span class="badge-icon">‚≠ê‚≠ê</span>
                            <span class="badge-text">INTERMEDIATE</span>
                        </div>
                    </div>
                </div>

                <div class="card-body">
                    <!-- Security Alert -->
                    <div class="security-alert">
                        <div class="alert-icon-container">
                            <div class="alert-icon">‚ö†Ô∏è</div>
                            <div class="alert-pulse"></div>
                        </div>
                        <div class="alert-content">
                            <div class="alert-title">KEY ROTATION DETECTED</div>
                            <div class="alert-message">
                                Security upgrade implemented. The encryption key has been rotated for enhanced protection. 
                                Additionally, the authentication token has been fragmented and distributed across multiple system locations.
                            </div>
                        </div>
                    </div>

                    <!-- Fragment Hunt Panel -->
                    <div class="fragment-hunt-panel">
                        <div class="hunt-header">
                            <div class="hunt-title">
                                <span class="hunt-icon">üß©</span>
                                <span>TOKEN FRAGMENT SCANNER</span>
                            </div>
                            <div class="hunt-progress">
                                <span id="fragmentsFound">0</span>/4 FRAGMENTS LOCATED
                            </div>
                        </div>

                        <div class="fragment-grid">
                            <div class="fragment-card" data-fragment="1">
                                <div class="fragment-card-header">
                                    <span class="fragment-number">01</span>
                                    <span class="fragment-status">üîç SEARCHING</span>
                                </div>
                                <div class="fragment-location">HTML COMMENTS</div>
                                <div class="fragment-value fragment-hidden">_ _ _ _?</div>
                                <div class="fragment-hint">Inspect page source</div>
                            </div>

                            <div class="fragment-card" data-fragment="2">
                                <div class="fragment-card-header">
                                    <span class="fragment-number">02</span>
                                    <span class="fragment-status">üîç SEARCHING</span>
                                </div>
                                <div class="fragment-location">HTML COMMENTS</div>
                                <div class="fragment-value fragment-hidden">_ _ _ _?</div>
                                <div class="fragment-hint">Check near fragments</div>
                            </div>

                            <div class="fragment-card" data-fragment="3">
                                <div class="fragment-card-header">
                                    <span class="fragment-number">03</span>
                                    <span class="fragment-status">üîç SEARCHING</span>
                                </div>
                                <div class="fragment-location">CSS STYLESHEET</div>
                                <div class="fragment-value fragment-hidden">_ _ </div>
                                <div class="fragment-hint">Look in style.css</div>
                            </div>

                            <div class="fragment-card" data-fragment="4">
                                <div class="fragment-card-header">
                                    <span class="fragment-number">04</span>
                                    <span class="fragment-status">üîç SEARCHING</span>
                                </div>
                                <div class="fragment-location">CONSOLE OUTPUT</div>
                                <div class="fragment-value fragment-hidden">_ _ </div>
                                <div class="fragment-hint">Check browser console</div>
                            </div>
                        </div>

                        <div class="assembly-preview">
                            <div class="assembly-label">ASSEMBLED TOKEN:</div>
                            <div class="assembly-value">
                                <span class="assembly-fragment">_ _ _ _?</span>
                                <span class="assembly-separator">+</span>
                                <span class="assembly-fragment">_ _ _ _?</span>
                                <span class="assembly-separator">+</span>
                                <span class="assembly-fragment">_ _ </span>
                                <span class="assembly-separator">+</span>
                                <span class="assembly-fragment">_ _ </span>
                                <span class="assembly-equals">=</span>
                                <span class="assembly-result" id="assembledToken">_ _ _ _ _ _ _ _ _ _ _ _</span>
                            </div>
                        </div>
                    </div>

                    <!-- Key Rotation Notice -->
                    <div class="key-rotation-notice">
                        <div class="rotation-icon">üîÑ</div>
                        <div class="rotation-content">
                            <div class="rotation-title">NEW ENCRYPTION KEY REQUIRED</div>
                            <div class="rotation-text">
                                The Round 1 key has been deprecated. A new encryption key is now in effect. 
                                Consult the enhanced authentication module in the source code for details.
                            </div>
                        </div>
                    </div>

                    <!-- Input Section -->
                    <div class="input-section">
                        <div class="input-wrapper">
                            <label for="round2Input" class="input-label">
                                <span class="label-icon">üîì</span>
                                <span class="label-text">MASTER PASSPHRASE</span>
                                <span class="label-required">*</span>
                            </label>
                            <div class="input-container">
                                <input 
                                    type="text" 
                                    id="round2Input" 
                                    class="cyber-input"
                                    placeholder="Enter the decoded master passphrase..."
                                    autocomplete="off"
                                    spellcheck="false"
                                    maxlength="50"
                                />
                                <div class="input-border-glow"></div>
                                <div class="input-focus-line"></div>
                            </div>
                            <div class="input-hint">Decrypt assembled token with rotated key</div>
                        </div>

                        <button class="submit-button" id="round2Submit">
                            <span class="button-bg"></span>
                            <span class="button-glow"></span>
                            <span class="button-text">
                                <span class="button-icon">‚ö°</span>
                                <span>COMPLETE VERIFICATION</span>
                            </span>
                            <div class="button-particles"></div>
                        </button>
                    </div>

                    <!-- Status Footer -->
                    <div class="card-footer">
                        <div class="footer-stats">
                            <div class="stat-item">
                                <span class="stat-label">ATTEMPTS:</span>
                                <span class="stat-value" id="attempts2">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">STATUS:</span>
                                <span class="stat-value status-searching" id="status2">SEARCHING FRAGMENTS</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">TIME:</span>
                                <span class="stat-value" id="timer2">00:00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- üß© FRAGMENT 1: GPCTR -->
            <!-- üß© FRAGMENT 2: SKPET -->
            <!-- üß© ROUND 2 KEY HINT: What organ do you use to see? 3 letters, starts with E, ends with E -->
            <!-- üß© ROUND 2 KEY = 'EYE' - DO NOT REMOVE - Emergency backup key -->

            <!-- ====================================================
                 FOOTER INFO PANEL
                 ==================================================== -->
            <footer class="main-footer">
                <div class="footer-badges">
                    <div class="footer-badge">
                        <span class="badge-icon">‚ö°</span>
                        <span>FIPS 140-3 COMPLIANT</span>
                    </div>
                    <div class="footer-badge">
                        <span class="badge-icon">üîê</span>
                        <span>AES-256-GCM ENCRYPTED</span>
                    </div>
                    <div class="footer-badge">
                        <span class="badge-icon">üõ°Ô∏è</span>
                        <span>QUANTUM-RESISTANT</span>
                    </div>
                    <div class="footer-badge">
                        <span class="badge-icon">‚úÖ</span>
                        <span>ISO 27001 CERTIFIED</span>
                    </div>
                </div>
                <div class="footer-copyright">
                    <div class="copyright-text">¬© 2024 DECIPHER SECURE ‚Ä¢ Educational CTF Challenge</div>
                    <div class="copyright-version">Version 2.0.1 ‚Ä¢ Build 20240216</div>
                </div>
            </footer>
        </div>
    </div>

    <!-- ============================================================
         VICTORY SCREEN
         ============================================================ -->
    <div class="victory-overlay hidden" id="victoryOverlay">
        <div class="victory-particles" id="victoryParticles"></div>
        <div class="victory-fireworks" id="fireworks"></div>
        <div class="victory-confetti" id="confetti"></div>
        
        <div class="victory-content">
            <div class="victory-trophy">
                <div class="trophy-icon">üèÜ</div>
                <div class="trophy-glow"></div>
            </div>
            
            <div class="victory-title">ACCESS GRANTED</div>
            <div class="victory-subtitle">Master Cryptographer Status Achieved</div>
            
            <div class="flag-container">
                <div class="flag-label">YOUR FLAG:</div>
                <div class="flag-value" id="flagValue"></div>
                <div class="flag-sparkles"></div>
            </div>
            
            <div class="victory-stats">
                <div class="victory-stat">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-info">
                        <div class="stat-value" id="totalTime">00:00</div>
                        <div class="stat-label">Total Time</div>
                    </div>
                </div>
                <div class="victory-stat">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-info">
                        <div class="stat-value" id="totalAttempts">0</div>
                        <div class="stat-label">Total Attempts</div>
                    </div>
                </div>
                <div class="victory-stat">
                    <div class="stat-icon">‚≠ê</div>
                    <div class="stat-info">
                        <div class="stat-value">100%</div>
                        <div class="stat-label">Completion</div>
                    </div>
                </div>
            </div>
            
            <div class="victory-message">
                Congratulations! You've successfully demonstrated mastery of classical cryptography 
                and code reconnaissance techniques. Your understanding of the Vigen√®re cipher and 
                ability to navigate obfuscated source code marks you as an elite cryptanalyst.
            </div>
        </div>
    </div>

    <!-- üèÜ FLAG: FLAG{VIGENERE_MASTER} -->

    <script src="main.js"></script>
</body>
</html>